# E2Eテストフレームワーク概要

## 🎯 目的
ヒデズキック格闘技ジムの予約システムの品質を保証するためのE2E（End-to-End）テストフレームワークです。

## 🔧 技術スタック
- **テストランナー**: Playwright
- **言語**: TypeScript
- **ロケール**: 日本語 (ja-JP)
- **タイムゾーン**: Asia/Tokyo
- **対応ブラウザ**: Chromium, Firefox, Safari

## 📁 ディレクトリ構造
```
tests/
├── テスト概要.md                    # このファイル
├── テスト環境セットアップ.md          # 環境設定ガイド
├── CI連携ガイド.md                  # CI/CD統合ガイド
├── e2e/                            # E2Eテストファイル
│   ├── 予約機能テスト概要.md         # テスト仕様書
│   ├── core-reservation-flow.spec.ts    # メイン予約フロー
│   ├── reservation-flow.spec.ts         # 日本語ロケール対応
│   ├── timetable-interactions.spec.ts   # タイムテーブル操作
│   └── example.spec.ts                  # 基本動作確認
├── config/                         # テスト設定
│   ├── ci.config.ts                # CI環境用設定
│   └── test-environment.ts        # 環境管理
├── utils/                          # ユーティリティ
│   └── test-utils.ts              # ヘルパー関数
├── mocks/                          # モックサービス
│   └── email.mock.ts              # メール送信モック
└── global-setup.ts                # グローバルセットアップ
```

## 🎨 テストケースの特徴

### 🔥 コア機能に集中
- 予約システムの本質的な機能のみをテスト
- パフォーマンステストやアクセシビリティテストは除外
- 実用的なユーザーシナリオに重点

### 🌏 日本語対応
- 全てのテストが日本語UIに対応
- 日本語の曜日名、エラーメッセージを確認
- 日本のタイムゾーン（Asia/Tokyo）で実行

### 🔨 保守性重視
- シンプルで理解しやすいテスト構造
- 必要最小限のテストケース
- 明確な命名規則（日本語）

## 📝 実行方法

### ローカル実行
```bash
# 全E2Eテスト実行
pnpm run test:e2e

# 特定ファイル実行
pnpm run test:e2e tests/e2e/core-reservation-flow.spec.ts

# UIモードで実行
pnpm run test:e2e:ui

# デバッグモード
pnpm run test:e2e:debug
```

### CI環境
```bash
# CI用設定で実行
pnpm run test:e2e:ci
```

## 🔍 テスト対象機能

### 1. 予約フォーム基本フロー
- タイムテーブル表示 → レッスン選択 → フォーム送信
- 第一希望・第二希望の選択機能
- 日本語バリデーションメッセージ

### 2. タイムテーブル相互作用
- レッスンクリック時のポップアップ表示
- 日本語曜日名の表示確認

### 3. 基本動作確認
- ページの正常読み込み
- フォームの開閉動作
- 基本的な入力検証

## ⚠️ 重要な注意事項

### 前提条件
- 開発サーバー（http://localhost:5173）が起動していること
- Node.js v22以上の環境
- pnpmパッケージマネージャー

### 除外項目
以下は意図的にテスト対象外としています：
- パフォーマンステスト
- アクセシビリティテスト
- ネットワーク遅延テスト
- セキュリティテスト
- メモリリークテスト

## 🚀 今後の拡張
必要に応じて以下の追加を検討できます：
- Visual Regression Testing
- API統合テスト
- ユーザビリティテスト

ただし、現在のスコープでは**コア機能の動作保証**に重点を置いています。