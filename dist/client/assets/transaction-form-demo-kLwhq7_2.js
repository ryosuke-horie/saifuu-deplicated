import{j as e,w as j}from"./chunk-NL6KNZEE-luD2_20O.js";import{u as y,a as N}from"./zod-MM32q9E5.js";import{u as v}from"./use-categories-CfBzUFga.js";import{c as w}from"./services-Cmawh7FO.js";import"./provider-Bc6krIuI.js";function u({type:t,onSubmit:n,defaultValues:o,isSubmitting:c=!1}){const{register:a,handleSubmit:x,formState:{errors:s,isDirty:d,isValid:l},watch:p,setValue:D}=y({resolver:N(w),defaultValues:{type:t,amount:0,categoryId:void 0,description:"",transactionDate:new Date().toISOString().split("T")[0],paymentMethod:"",...o}}),{data:i,isLoading:h}=v(t),m=p("amount"),b=r=>r.toLocaleString("ja-JP"),g=async r=>{try{await n(r)}catch(f){console.error("Form submission error:",f)}};return e.jsxs("form",{onSubmit:x(g),className:"space-y-6 max-w-md mx-auto p-4",children:[e.jsx("div",{className:"text-center",children:e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t==="expense"?"æ”¯å‡ºã‚’ç™»éŒ²":"åå…¥ã‚’ç™»éŒ²"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700",children:["é‡‘é¡ ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{...a("amount",{valueAsNumber:!0}),type:"number",id:"amount",placeholder:"0",className:`w-full px-3 py-2 border rounded-md text-right ${s.amount?"border-red-500 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"} focus:outline-none focus:ring-2 focus:ring-opacity-50`}),e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-gray-500 text-sm",children:"Â¥"})})]}),m>0&&e.jsxs("p",{className:"text-xs text-gray-500 text-right",children:[b(m),"å††"]}),s.amount&&e.jsx("p",{className:"text-sm text-red-600",children:s.amount.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{htmlFor:"categoryId",className:"block text-sm font-medium text-gray-700",children:["ã‚«ãƒ†ã‚´ãƒª ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{...a("categoryId",{valueAsNumber:!0,setValueAs:r=>r===""?void 0:r}),id:"categoryId",disabled:h,className:`w-full px-3 py-2 border rounded-md ${s.categoryId?"border-red-500 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"} focus:outline-none focus:ring-2 focus:ring-opacity-50`,children:[e.jsx("option",{value:"",children:"ã‚«ãƒ†ã‚´ãƒªã‚’é¸æŠã—ã¦ãã ã•ã„"}),i==null?void 0:i.data.map(r=>e.jsxs("option",{value:r.id,children:[r.icon&&`${r.icon} `,r.name]},r.id))]}),s.categoryId&&e.jsx("p",{className:"text-sm text-red-600",children:s.categoryId.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{htmlFor:"transactionDate",className:"block text-sm font-medium text-gray-700",children:["å–å¼•æ—¥ ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{...a("transactionDate"),type:"date",id:"transactionDate",className:`w-full px-3 py-2 border rounded-md ${s.transactionDate?"border-red-500 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"} focus:outline-none focus:ring-2 focus:ring-opacity-50`}),s.transactionDate&&e.jsx("p",{className:"text-sm text-red-600",children:s.transactionDate.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"èª¬æ˜ãƒ»ãƒ¡ãƒ¢"}),e.jsx("textarea",{...a("description"),id:"description",rows:3,placeholder:"å–å¼•ã®è©³ç´°ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼ˆä»»æ„ï¼‰",className:`w-full px-3 py-2 border rounded-md resize-none ${s.description?"border-red-500 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"} focus:outline-none focus:ring-2 focus:ring-opacity-50`}),s.description&&e.jsx("p",{className:"text-sm text-red-600",children:s.description.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"paymentMethod",className:"block text-sm font-medium text-gray-700",children:"æ”¯æ‰•ã„æ–¹æ³•"}),e.jsxs("select",{...a("paymentMethod"),id:"paymentMethod",className:`w-full px-3 py-2 border rounded-md ${s.paymentMethod?"border-red-500 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"} focus:outline-none focus:ring-2 focus:ring-opacity-50`,children:[e.jsx("option",{value:"",children:"é¸æŠã—ã¦ãã ã•ã„"}),e.jsx("option",{value:"cash",children:"ç¾é‡‘"}),e.jsx("option",{value:"credit_card",children:"ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰"}),e.jsx("option",{value:"debit_card",children:"ãƒ‡ãƒ“ãƒƒãƒˆã‚«ãƒ¼ãƒ‰"}),e.jsx("option",{value:"bank_transfer",children:"éŠ€è¡ŒæŒ¯è¾¼"}),e.jsx("option",{value:"electronic_money",children:"é›»å­ãƒãƒãƒ¼"}),e.jsx("option",{value:"other",children:"ãã®ä»–"})]}),s.paymentMethod&&e.jsx("p",{className:"text-sm text-red-600",children:s.paymentMethod.message})]}),e.jsx("div",{className:"pt-4",children:e.jsx("button",{type:"submit",disabled:c||!d&&!l,className:`w-full py-3 px-4 rounded-md font-medium transition-colors ${c||!d&&!l?"bg-gray-300 text-gray-500 cursor-not-allowed":t==="expense"?"bg-red-600 hover:bg-red-700 text-white":"bg-green-600 hover:bg-green-700 text-white"} focus:outline-none focus:ring-2 focus:ring-opacity-50 ${t==="expense"?"focus:ring-red-500":"focus:ring-green-500"}`,children:c?"ç™»éŒ²ä¸­...":t==="expense"?"æ”¯å‡ºã‚’ç™»éŒ²":"åå…¥ã‚’ç™»éŒ²"})}),e.jsxs("div",{className:"text-xs text-gray-500 text-center space-y-1",children:[e.jsx("p",{children:"ğŸ’¡ ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ"}),e.jsx("p",{children:"Tab: æ¬¡ã®é …ç›®ã¸ç§»å‹• | Enter: ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡"})]})]})}const T=j(function(){const n=async o=>{console.log("Form submitted:",o),alert(`${o.type==="expense"?"æ”¯å‡º":"åå…¥"}ã‚’ç™»éŒ²ã—ã¾ã—ãŸ:
é‡‘é¡: Â¥${o.amount.toLocaleString()}
ã‚«ãƒ†ã‚´ãƒªID: ${o.categoryId}
å–å¼•æ—¥: ${o.transactionDate}`)};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Transaction Form Demo"}),e.jsx("p",{className:"text-gray-600",children:"æ”¯å‡º/åå…¥ç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ ã®å‹•ä½œç¢ºèª"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm border",children:e.jsx("div",{className:"p-6",children:e.jsx(u,{type:"expense",onSubmit:n,defaultValues:{amount:1e3,description:"ãƒ©ãƒ³ãƒä»£"}})})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border",children:e.jsx("div",{className:"p-6",children:e.jsx(u,{type:"income",onSubmit:n,defaultValues:{amount:5e4,description:"çµ¦ä¸"}})})})]}),e.jsxs("div",{className:"mt-8 bg-blue-50 rounded-lg p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-blue-900 mb-3",children:"ä½¿ç”¨æ–¹æ³•"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-2",children:[e.jsx("li",{children:"â€¢ å·¦å´ã¯æ”¯å‡ºãƒ•ã‚©ãƒ¼ãƒ ã€å³å´ã¯åå…¥ãƒ•ã‚©ãƒ¼ãƒ "}),e.jsx("li",{children:"â€¢ é‡‘é¡ã¯3æ¡ã‚«ãƒ³ãƒã§è¡¨ç¤ºã•ã‚Œã¾ã™"}),e.jsx("li",{children:"â€¢ ã‚«ãƒ†ã‚´ãƒªã¯ã‚¿ã‚¤ãƒ—ã«å¿œã˜ã¦çµã‚Šè¾¼ã¾ã‚Œã¾ã™"}),e.jsx("li",{children:"â€¢ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãŒå‹•ä½œã—ã¾ã™"}),e.jsx("li",{children:"â€¢ ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡æ™‚ã¯ã‚¢ãƒ©ãƒ¼ãƒˆã§å†…å®¹ã‚’ç¢ºèªã§ãã¾ã™"})]})]})]})})});export{T as default};
